/*! For license information please see login.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=12)}([function(e,t,n){"use strict";e.exports=n(9)},function(e,t){e.exports=React},function(e,t){e.exports=axios},function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis",ValidationError:"Input_ValidationError__qMR97"}},function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},function(e,t){e.exports=ReactDOM},function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,n){e.exports={Register:"Login_Register__3QJg8"}},function(e,t,n){"use strict";var r=n(1),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),i=n.n(o),a=n(5),l=n.n(a);n(10),n(11);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var j=function(e){return e.children},O=n(6),_=n.n(O),x=n(7),C=n.n(x),S=function(e){return e.show?Object(r.jsx)("div",{className:C.a.Backdrop,onClick:e.clicked}):null},w=function(e){v(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(r.jsxs)(j,{children:[Object(r.jsx)(S,{show:this.props.show,clicked:this.props.modalClosed}),Object(r.jsx)("div",{className:_.a.Modal,style:{transform:this.props.show?"translateY(0)":this.props.translate,opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),n}(o.Component),k=n(3),F=n.n(k),T=function(e){var t=null,n=null,o=[F.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&(o.push(F.a.Invalid),n=Object(r.jsx)("p",{className:F.a.ValidationError,children:"The field is required!"})),e.elementType){case"input":t=Object(r.jsx)("input",u(u({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(r.jsx)("textarea",u(u({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(r.jsx)("select",{className:o.join(" "),value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(r.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:t=Object(r.jsx)("input",u(u({className:o.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(r.jsxs)("div",{className:F.a.Input,children:[Object(r.jsx)("label",{className:F.a.Label,children:e.label}),t,n]})},I=n(4),V=n.n(I),R=function(e){return Object(r.jsx)("button",{disabled:e.disabled,onClick:e.clicked,className:[V.a.Button,V.a[e.btnType]].join(" "),type:e.type,children:e.children})},P=function(e){v(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={registerForm:r.props.data},r}return f(n,[{key:"render",value:function(){var e=this;if(1!==this.props.currentStep)return null;var t=[];for(var n in this.state.registerForm)t.push({id:n,config:this.state.registerForm[n]});return console.log(t),Object(r.jsx)("div",{className:"form-group",children:t.map((function(t){return Object(r.jsx)(T,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.props.handleChange(n,t.id,"step1")},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid,label:t.id.replace("_"," ").toUpperCase()},t.id)}))})}}]),n}(o.Component),N=function(e){v(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={registerForm:r.props.data},r}return f(n,[{key:"render",value:function(){var e=this;if(2!==this.props.currentStep)return null;var t=[];for(var n in this.state.registerForm)t.push({id:n,config:this.state.registerForm[n]});return console.log(this.props.data),Object(r.jsx)("div",{className:"form-group",children:t.map((function(t){return Object(r.jsx)(T,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.props.handleChange(n,t.id,"step2")},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid,label:t.id.replace("_"," ").toUpperCase()},t.id)}))})}}]),n}(o.Component),E=n(2),M=n.n(E),B=function(e){v(n,e);var t=b(n);function n(){var e;d(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={currentStep:1,formIsValid:!1,registerForm:{step1:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0},touched:!1,valid:!1},first_name:{elementType:"input",elementConfig:{type:"text",placeholder:"First Name"},value:"",validation:{required:!0},touched:!1,valid:!1},last_name:{elementType:"input",elementConfig:{type:"text",placeholder:"Last Name"},value:"",validation:{required:!0},touched:!1,valid:!1},gender:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Male"},{value:2,displayValue:"Female"}]},value:1,validation:{},touched:!1,valid:!0},birthday:{elementType:"input",elementConfig:{type:"date",placeholder:"Birthday"},value:"",validation:{required:!0},touched:!1,valid:!1},nationality:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Austria"},{value:2,displayValue:"Germany"}]},value:1,validation:{},touched:!1,valid:!0}},step2:{tin:{elementType:"input",elementConfig:{type:"text",placeholder:"TIN"},value:"",validation:{},touched:!1,valid:!0},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},touched:!1,valid:!1},zip:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP"},value:"",validation:{required:!0},touched:!1,valid:!1},city:{elementType:"input",elementConfig:{type:"text",placeholder:"City"},value:"",validation:{required:!0},touched:!1,valid:!1},country:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Austria"},{value:2,displayValue:"Germany"}]},value:1,validation:{},touched:!1,valid:!0}}}},e.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),n},e._prev=function(){var t=e.state.currentStep;t=t<=1?1:t-1,e.setState({currentStep:t})},e._next=function(){var t=e.state.currentStep;t=t>=2?3:t+1,e.setState({currentStep:t})},e.previousButton=function(){return 1!==e.state.currentStep?Object(r.jsx)("button",{className:"btn btn-secondary",type:"button",onClick:e._prev,children:"Previous"}):null},e.nextButton=function(){return e.state.currentStep<2?Object(r.jsx)("button",{className:"btn btn-primary float-right",type:"button",onClick:e._next,children:"Next"}):Object(r.jsx)(R,{type:"submit",btnType:"Success",disabled:!e.state.formIsValid,children:"Submit"})},e.checkFormValidity=function(){var t=!0;for(var n in e.state.registerForm.step1)t=e.state.registerForm.step1[n].valid&&t;var r=!0;for(var o in e.state.registerForm.step2)r=e.state.registerForm.step2[o].valid&&r;return t&&r},e.inputChangedHandler=function(t,n,r){var o=u({},e.state.registerForm),i=u({},o[r]),a=u({},i[n]);a.value=t.target.value,a.valid=e.checkValidity(a.value,a.validation),a.touched=!0,o[r][n]=a,e.setState({registerForm:o});var l=e.checkFormValidity();e.setState({formIsValid:l})},e.handleSubmit=function(t){t.preventDefault();var n={};for(var r in e.state.registerForm.step1)n[r]=e.state.registerForm.step1[r].value;n.birthday=e.state.registerForm.step1.birthday.value+" 12:00:00";var o=u({},n);for(var i in e.state.registerForm.step2)o[i]=e.state.registerForm.step2[i].value;console.log(o),M.a.post("joeee-booking/v1/user",o,{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(t){e.setState({formIsValid:!1}),console.log(t)}))},e}return f(n,[{key:"render",value:function(){return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("h2",{children:"Register"}),Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)(P,{currentStep:this.state.currentStep,handleChange:this.inputChangedHandler,data:this.state.registerForm.step1}),Object(r.jsx)(N,{currentStep:this.state.currentStep,handleChange:this.inputChangedHandler,data:this.state.registerForm.step2}),this.previousButton(),this.nextButton()]})]})}}]),n}(o.Component),q=n(8),D=n.n(q),H=window.wp.i18n,L=H.__,U=(H._x,H._n,H._nx,function(e){v(n,e);var t=b(n);function n(){var e;d(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={showlogin:!1,showregister:!1,formIsValid:!1,loginForm:{user_login:{elementType:"input",elementConfig:{type:"text",placeholder:L("Email","joeee-booking"),name:"email"},value:"",validation:{required:!0},touched:!1,valid:!1},user_password:{elementType:"input",elementConfig:{type:"password",placeholder:L("Password","joeee-booking"),name:"password"},value:"",validation:{required:!0},touched:!1,valid:!1}}},e.closeModalHandler=function(){e.setState({showlogin:!1})},e.closeRegisterModalHandler=function(){e.setState({showregister:!1})},e.openModalHandler=function(){e.setState({showlogin:!0})},e.inputChangedHandler=function(t,n){var r=u({},e.state.loginForm),o=u({},r[n]);o.value=t.target.value,o.valid=e.checkValidity(o.value,o.validation),o.touched=!0,r[n]=o;var i=!0;for(var a in r)i=r[a].valid&&i;e.setState({loginForm:r,formIsValid:i})},e.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),n},e.onSubmit=function(t){t.preventDefault();var n={};for(var r in e.state.loginForm)n[r]=e.state.loginForm[r].value;M.a.post("joeee-booking/v1/user/login",n,{withCredentials:!0}).then((function(e){window.location.reload()})).catch((function(t){e.setState({formIsValid:!1}),console.log(t)}))},e.showRegisterForm=function(){e.closeModalHandler(),e.setState({showregister:!0})},e}return f(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.loginForm)t.push({id:n,config:this.state.loginForm[n]});return Object(r.jsxs)(j,{children:[Object(r.jsxs)(w,{show:this.state.showlogin,modalClosed:this.closeModalHandler,translate:"translateY(-100vh)",children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsxs)("form",{onSubmit:this.onSubmit,children:[t.map((function(t){return Object(r.jsx)(T,{elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.inputChangedHandler(n,t.id)},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid},t.id)})),Object(r.jsx)("p",{onClick:this.showRegisterForm,className:D.a.Register,children:"REGISTER"}),Object(r.jsx)(R,{type:"submit",btnType:"Success",disabled:!this.state.formIsValid,children:"LOGIN"})]})]}),Object(r.jsx)(w,{show:this.state.showregister,modalClosed:this.closeRegisterModalHandler,translate:"translateY(-10000vh)",scrollable:!0,children:Object(r.jsx)(B,{})}),Object(r.jsx)("span",{onClick:this.openModalHandler,style:{cursor:"pointer"},children:"Login"})]})}}]),n}(o.Component));var A=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(U,{})})},G=window.restRoute;M.a.defaults.baseURL=G.restURL,l.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("joeee-booking-login"))}]);
//# sourceMappingURL=login.js.map