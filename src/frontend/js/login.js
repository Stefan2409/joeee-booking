!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=8)}([function(e,t){e.exports=React},function(e,t){e.exports=axios},function(e,t,n){e.exports={Input:"Input_Input__2UTTC",Label:"Input_Label__ppkrI",InputElement:"Input_InputElement__1grlo",Invalid:"Input_Invalid__1q73a",ValidationError:"Input_ValidationError__1_wSd"}},function(e,t,n){e.exports={Button:"Button_Button__2bcVs",Success:"Button_Success__XHuoC",Danger:"Button_Danger__1jCep"}},function(e,t){e.exports=ReactDOM},function(e,t,n){e.exports={Modal:"Modal_Modal__CPdh_"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1B_ZT"}},function(e,t,n){e.exports={Register:"Login_Register__3rfki"}},function(e,t,n){e.exports=n(11)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n.n(o);n(9),n(10);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return function(){var t,n=v(e);if(h()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return y(this,t)}}var _=function(e){return e.children},C=n(5),E=n.n(C),S=n(6),w=n.n(S),k=function(e){return e.show?a.a.createElement("div",{className:w.a.Backdrop,onClick:e.clicked}):null},j=function(e){m(n,e);var t=b(n);function n(){return s(this,n),t.apply(this,arguments)}return d(n,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return a.a.createElement(_,null,a.a.createElement(k,{show:this.props.show,clicked:this.props.modalClosed}),a.a.createElement("div",{className:E.a.Modal,style:{transform:this.props.show?"translateY(0)":this.props.translate,opacity:this.props.show?"1":"0"}},this.props.children))}}]),n}(r.Component),O=n(2),F=n.n(O),x=function(e){var t=null,n=null,r=[F.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&(r.push(F.a.Invalid),n=a.a.createElement("p",{className:F.a.ValidationError},"The field is required!")),e.elementType){case"input":t=a.a.createElement("input",Object.assign({className:r.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=a.a.createElement("textarea",Object.assign({className:r.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=a.a.createElement("select",{className:r.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return a.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=a.a.createElement("input",Object.assign({className:r.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return a.a.createElement("div",{className:F.a.Input},a.a.createElement("label",{className:F.a.Label},e.label),t,n)},T=n(3),V=n.n(T),I=function(e){return a.a.createElement("button",{disabled:e.disabled,onClick:e.clicked,className:[V.a.Button,V.a[e.btnType]].join(" "),type:e.type},e.children)},P=function(e){m(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).state={registerForm:r.props.data},r}return d(n,[{key:"render",value:function(){var e=this;if(1!==this.props.currentStep)return null;var t=[];for(var n in this.state.registerForm)t.push({id:n,config:this.state.registerForm[n]});return console.log(t),a.a.createElement("div",{className:"form-group"},t.map((function(t){return a.a.createElement(x,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.props.handleChange(n,t.id,"step1")},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid,label:t.id.replace("_"," ").toUpperCase()})})))}}]),n}(r.Component),N=function(e){m(n,e);var t=b(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).state={registerForm:r.props.data},r}return d(n,[{key:"render",value:function(){var e=this;if(2!==this.props.currentStep)return null;var t=[];for(var n in this.state.registerForm)t.push({id:n,config:this.state.registerForm[n]});return console.log(this.props.data),a.a.createElement("div",{className:"form-group"},t.map((function(t){return a.a.createElement(x,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.props.handleChange(n,t.id,"step2")},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid,label:t.id.replace("_"," ").toUpperCase()})})))}}]),n}(r.Component),R=n(1),M=n.n(R),B=function(e){m(n,e);var t=b(n);function n(){var e;s(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentStep:1,formIsValid:!1,registerForm:{step1:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0},touched:!1,valid:!1},first_name:{elementType:"input",elementConfig:{type:"text",placeholder:"First Name"},value:"",validation:{required:!0},touched:!1,valid:!1},last_name:{elementType:"input",elementConfig:{type:"text",placeholder:"Last Name"},value:"",validation:{required:!0},touched:!1,valid:!1},gender:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Male"},{value:2,displayValue:"Female"}]},value:1,validation:{},touched:!1,valid:!0},birthday:{elementType:"input",elementConfig:{type:"date",placeholder:"Birthday"},value:"",validation:{required:!0},touched:!1,valid:!1},nationality:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Austria"},{value:2,displayValue:"Germany"}]},value:1,validation:{},touched:!1,valid:!0}},step2:{tin:{elementType:"input",elementConfig:{type:"text",placeholder:"TIN"},value:"",validation:{},touched:!1,valid:!0},street:{elementType:"input",elementConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},touched:!1,valid:!1},zip:{elementType:"input",elementConfig:{type:"text",placeholder:"ZIP"},value:"",validation:{required:!0},touched:!1,valid:!1},city:{elementType:"input",elementConfig:{type:"text",placeholder:"City"},value:"",validation:{required:!0},touched:!1,valid:!1},country:{elementType:"select",elementConfig:{options:[{value:1,displayValue:"Austria"},{value:2,displayValue:"Germany"}]},value:1,validation:{},touched:!1,valid:!0}}}},e.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),n},e._prev=function(){var t=e.state.currentStep;t=t<=1?1:t-1,e.setState({currentStep:t})},e._next=function(){var t=e.state.currentStep;t=t>=2?3:t+1,e.setState({currentStep:t})},e.previousButton=function(){return 1!==e.state.currentStep?a.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:e._prev},"Previous"):null},e.nextButton=function(){return e.state.currentStep<2?a.a.createElement("button",{className:"btn btn-primary float-right",type:"button",onClick:e._next},"Next"):a.a.createElement(I,{type:"submit",btnType:"Success",disabled:!e.state.formIsValid},"Submit")},e.checkFormValidity=function(){var t=!0;for(var n in e.state.registerForm.step1)t=e.state.registerForm.step1[n].valid&&t;var r=!0;for(var a in e.state.registerForm.step2)r=e.state.registerForm.step2[a].valid&&r;return t&&r},e.inputChangedHandler=function(t,n,r){var a=c({},e.state.registerForm),o=c({},a[r]),i=c({},o[n]);i.value=t.target.value,i.valid=e.checkValidity(i.value,i.validation),i.touched=!0,a[r][n]=i,e.setState({registerForm:a});var l=e.checkFormValidity();e.setState({formIsValid:l})},e.handleSubmit=function(t){t.preventDefault();var n={};for(var r in e.state.registerForm.step1)n[r]=e.state.registerForm.step1[r].value;n.birthday=e.state.registerForm.step1.birthday.value+" 12:00:00";var a=c({},n);for(var o in e.state.registerForm.step2)a[o]=e.state.registerForm.step2[o].value;console.log(a),M.a.post("joeee-booking/v1/user",a,{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(t){e.setState({formIsValid:!1}),console.log(t)}))},e}return d(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Register"),a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement(P,{currentStep:this.state.currentStep,handleChange:this.inputChangedHandler,data:this.state.registerForm.step1}),a.a.createElement(N,{currentStep:this.state.currentStep,handleChange:this.inputChangedHandler,data:this.state.registerForm.step2}),this.previousButton(),this.nextButton()))}}]),n}(r.Component),q=n(7),H=n.n(q),D=window.wp.i18n,L=D.__,U=(D._x,D._n,D._nx,function(e){m(n,e);var t=b(n);function n(){var e;s(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showlogin:!1,showregister:!1,formIsValid:!1,loginForm:{user_login:{elementType:"input",elementConfig:{type:"text",placeholder:L("Email","joeee-booking"),name:"email"},value:"",validation:{required:!0},touched:!1,valid:!1},user_password:{elementType:"input",elementConfig:{type:"password",placeholder:L("Password","joeee-booking"),name:"password"},value:"",validation:{required:!0},touched:!1,valid:!1}}},e.closeModalHandler=function(){e.setState({showlogin:!1})},e.closeRegisterModalHandler=function(){e.setState({showregister:!1})},e.openModalHandler=function(){e.setState({showlogin:!0})},e.inputChangedHandler=function(t,n){var r=c({},e.state.loginForm),a=c({},r[n]);a.value=t.target.value,a.valid=e.checkValidity(a.value,a.validation),a.touched=!0,r[n]=a;var o=!0;for(var i in r)o=r[i].valid&&o;e.setState({loginForm:r,formIsValid:o})},e.checkValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),n},e.onSubmit=function(t){t.preventDefault();var n={};for(var r in e.state.loginForm)n[r]=e.state.loginForm[r].value;M.a.post("joeee-booking/v1/user/login",n,{withCredentials:!0}).then((function(e){window.location.reload()})).catch((function(t){e.setState({formIsValid:!1}),console.log(t)}))},e.showRegisterForm=function(){e.closeModalHandler(),e.setState({showregister:!0})},e}return d(n,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.loginForm)t.push({id:n,config:this.state.loginForm[n]});return a.a.createElement(_,null,a.a.createElement(j,{show:this.state.showlogin,modalClosed:this.closeModalHandler,translate:"translateY(-100vh)"},a.a.createElement("h2",null,"Login"),a.a.createElement("form",{onSubmit:this.onSubmit},t.map((function(t){return a.a.createElement(x,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,changed:function(n){return e.inputChangedHandler(n,t.id)},touched:t.config.touched,shouldValidate:t.config.validation,invalid:!t.config.valid})})),a.a.createElement("p",{onClick:this.showRegisterForm,className:H.a.Register},"REGISTER"),a.a.createElement(I,{type:"submit",btnType:"Success",disabled:!this.state.formIsValid},"LOGIN"))),a.a.createElement(j,{show:this.state.showregister,modalClosed:this.closeRegisterModalHandler,translate:"translateY(-10000vh)",scrollable:!0},a.a.createElement(B,null)),a.a.createElement("span",{onClick:this.openModalHandler,style:{cursor:"pointer"}},"Login"))}}]),n}(r.Component));var A=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(U,null))},G=window.restRoute;M.a.defaults.baseURL=G.restURL,i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("joeee-booking-login"))}]);
//# sourceMappingURL=login.js.map